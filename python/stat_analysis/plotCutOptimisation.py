#/usr/bin/env python

import ROOT
from HistogramTools import setTDRStyle
    
# setTDRStyle()

ROOT.gROOT.SetBatch(True)

cuts = [
[-0.1,0.2],
[-0.1,0.5],
[-0.1,0.7],
[-0.1,0.9],
# [-0.3,0.2],
[-0.3,0.5],
[-0.3,0.7],
[-0.3,0.9],
[0.1,0.2],
[0.1,0.5],
[0.1,0.7],
[0.1,0.9],
[0.3,0.2],
[0.3,0.5],
[0.3,0.7],
[0.3,0.9],

[0.2,0.87],
[0.2,0.8],
[0.2,0.91],
[0.2,0.95],
[0.2,0.97],
[0.3,0.83],
[0.3,0.87],
[0.3,0.8],
[0.3,0.91],
[0.3,0.95],
[0.3,0.97],
[0.4,0.83],
[0.4,0.87],
[0.4,0.8],
[0.4,0.91],
[0.4,0.95],
[0.4,0.97],
[0.5,0.83],
[0.5,0.87],
[0.5,0.8],
[0.5,0.91],
[0.5,0.95],
[0.5,0.97],
[0.6,0.83],
[0.6,0.87],
[0.6,0.8],
[0.6,0.91],
[0.6,0.95],
[0.6,0.97],
]

results = [
(abs(-0.424)+0.419)/2,
(abs(-0.304)+0.295)/2,
(abs(-0.263)+0.263)/2,
(abs(-0.266)+0.279)/2,
(abs(-0.640)+0.640)/2,
(abs(-0.632)+0.608)/2,
(abs(-0.574)+0.552)/2,
(abs(-0.332)+0.328)/2,
(abs(-0.229)+0.234)/2,
(abs(-0.197)+0.209)/2,
(abs(-0.198)+0.217)/2,
(abs(-0.303)+0.311)/2,
(abs(-0.221)+0.232)/2,
(abs(-0.195)+0.206)/2,
(abs(-0.191)+0.207)/2,

(abs(-0.190)+0.209)/2,
(abs(-0.194)+0.205)/2,
(abs(-0.196)+0.214)/2,
(abs(-0.204)+0.223)/2,
(abs(-0.235)+0.259)/2,
(abs(-0.188)+0.199)/2,
(abs(-0.187)+0.201)/2,
(abs(-0.192)+0.201)/2,
(abs(-0.194)+0.209)/2,
(abs(-0.197)+0.212)/2,
(abs(-0.228)+0.247)/2,
(abs(-0.184)+0.196)/2,
(abs(-0.183)+0.197)/2,
(abs(-0.187)+0.196)/2,
(abs(-0.182)+0.198)/2,
(abs(-0.192)+0.207)/2,
(abs(-0.224)+0.242)/2,
(abs(-0.163)+0.171)/2,
(abs(-0.166)+0.178)/2,
(abs(-0.163)+0.173)/2,
(abs(-0.169)+0.185)/2,
(abs(-0.174)+0.185)/2,
(abs(-0.198)+0.210)/2,
(abs(-0.167)+0.176)/2,
(abs(-0.168)+0.180)/2,
(abs(-0.167)+0.177)/2,
(abs(-0.180)+0.195)/2,
(abs(-0.195)+0.215)/2,
(abs(-0.244)+0.279)/2,
]

assert(len(cuts) == len(results))

gr = ROOT.TGraph2D(len(cuts))

for i in range(len(cuts)):
    gr.SetPoint(i, cuts[i][0], cuts[i][1], results[i])


c = ROOT.TCanvas()

gr.Draw("colz")

marker = ROOT.TMarker(0.5, 0.8, 29)
marker.SetMarkerColor(2)
marker.SetMarkerSize(2)
marker.Draw("same")

ROOT.gPad.Update()
gr.GetXaxis().SetTitle("CWoLa BDT")
gr.GetYaxis().SetTitle("QGLR")
gr.SetTitle("")


c.Print("cut_optimisation.pdf")

